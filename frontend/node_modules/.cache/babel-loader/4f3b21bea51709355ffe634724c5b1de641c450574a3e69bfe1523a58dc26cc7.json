{"ast":null,"code":"import _objectSpread from\"C:/achados-perdidos/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Typography,Grid,Tabs,Tab,Box}from'@mui/material';import axios from'axios';import ItemCard from'./ItemCard';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function ItemList(){const[itens,setItens]=useState([]);const[tabValue,setTabValue]=useState(0);useEffect(()=>{const fetchItens=async()=>{try{const res=await axios.get('http://localhost:5000/api/itens');setItens(res.data);}catch(err){console.error('Erro ao buscar itens:',err);}};fetchItens();},[]);const handleStatusChange=async(id,novoStatus)=>{try{await axios.patch(\"http://localhost:5000/api/itens/\".concat(id),{status:novoStatus});setItens(itens.map(item=>item._id===id?_objectSpread(_objectSpread({},item),{},{status:novoStatus}):item));}catch(err){console.error('Erro ao atualizar status:',err);}};const filteredItens=tabValue===0?itens:tabValue===1?itens.filter(item=>item.tipo==='perdido'):itens.filter(item=>item.tipo==='achado');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,children:[\"Itens \",tabValue===1?'Perdidos':tabValue===2?'Achados':'']}),/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:(e,newValue)=>setTabValue(newValue),children:[/*#__PURE__*/_jsx(Tab,{label:\"Todos\"}),/*#__PURE__*/_jsx(Tab,{label:\"Perdidos\"}),/*#__PURE__*/_jsx(Tab,{label:\"Achados\"})]}),/*#__PURE__*/_jsx(Box,{mt:3,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:filteredItens.map(item=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(ItemCard,{item:item,onStatusChange:handleStatusChange})},item._id))})})]});}export default ItemList;","map":{"version":3,"names":["React","useEffect","useState","Typography","Grid","Tabs","Tab","Box","axios","ItemCard","jsxs","_jsxs","jsx","_jsx","ItemList","itens","setItens","tabValue","setTabValue","fetchItens","res","get","data","err","console","error","handleStatusChange","id","novoStatus","patch","concat","status","map","item","_id","_objectSpread","filteredItens","filter","tipo","children","variant","gutterBottom","value","onChange","e","newValue","label","mt","container","spacing","xs","sm","md","onStatusChange"],"sources":["C:/achados-perdidos/frontend/src/components/ItemList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Typography, Grid, Tabs, Tab, Box } from '@mui/material';\r\nimport axios from 'axios';\r\nimport ItemCard from './ItemCard';\r\n\r\nfunction ItemList() {\r\n  const [itens, setItens] = useState([]);\r\n  const [tabValue, setTabValue] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchItens = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/itens');\r\n        setItens(res.data);\r\n      } catch (err) {\r\n        console.error('Erro ao buscar itens:', err);\r\n      }\r\n    };\r\n    \r\n    fetchItens();\r\n  }, []);\r\n\r\n  const handleStatusChange = async (id, novoStatus) => {\r\n    try {\r\n      await axios.patch(`http://localhost:5000/api/itens/${id}`, { status: novoStatus });\r\n      setItens(itens.map(item => \r\n        item._id === id ? { ...item, status: novoStatus } : item\r\n      ));\r\n    } catch (err) {\r\n      console.error('Erro ao atualizar status:', err);\r\n    }\r\n  };\r\n\r\n  const filteredItens = tabValue === 0 \r\n    ? itens \r\n    : tabValue === 1 \r\n      ? itens.filter(item => item.tipo === 'perdido') \r\n      : itens.filter(item => item.tipo === 'achado');\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Itens {tabValue === 1 ? 'Perdidos' : tabValue === 2 ? 'Achados' : ''}\r\n      </Typography>\r\n      \r\n      <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)}>\r\n        <Tab label=\"Todos\" />\r\n        <Tab label=\"Perdidos\" />\r\n        <Tab label=\"Achados\" />\r\n      </Tabs>\r\n      \r\n      <Box mt={3}>\r\n        <Grid container spacing={3}>\r\n          {filteredItens.map(item => (\r\n            <Grid item xs={12} sm={6} md={4} key={item._id}>\r\n              <ItemCard item={item} onStatusChange={handleStatusChange} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}